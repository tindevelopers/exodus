{%- comment -%}
  Exodus Hero Banner
  Two-column split hero: left text panel (#F5F5F5) + right image panel.
  Stats card overlaps bottom-right of image. Trust logos row below.
  Design: Figma Epharma-Home hero section.
{%- endcomment -%}

{%- style -%}
  #ExodusHero-{{ section.id }} {
    position: relative;
    width: 100%;
    padding: 20px 20px 60px;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr;
    gap: 20px;
    min-height: {{ section.settings.min_height }}px;
    max-width: 1880px;
    margin: 0 auto;
  }
  /* Left panel */
  #ExodusHero-{{ section.id }} .exodus-hero__text-panel {
    background: #F5F5F5;
    border-radius: 10px;
    display: flex;
    align-items: center;
    padding: 100px 80px 100px 100px;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__content {
    max-width: 622px;
    display: flex;
    flex-direction: column;
    gap: 30px;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__heading {
    font-family: 'DM Sans', sans-serif;
    font-weight: 700;
    font-size: {{ section.settings.heading_size }}px;
    line-height: 100%;
    letter-spacing: -0.02em;
    color: #0D0D0D;
    margin: 0;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__subtitle {
    font-family: 'DM Sans', sans-serif;
    font-weight: 300;
    font-size: 18px;
    line-height: 150%;
    color: #636363;
    margin: 0;
    max-width: 610px;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__actions {
    display: flex;
    gap: 20px;
    margin-top: 30px;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 16px 24px;
    font-family: 'DM Sans', sans-serif;
    font-weight: 500;
    font-size: 16px;
    line-height: 140%;
    border-radius: 10px;
    text-decoration: none;
    cursor: pointer;
    transition: opacity 0.2s;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__btn:hover {
    opacity: 0.85;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__btn--primary {
    background: #1F2F44;
    color: #FFFFFF;
    border: none;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__btn--secondary {
    background: transparent;
    color: #0D0D0D;
    border: 1px solid #0D0D0D;
  }
  /* Right panel â€” column: image on top, stats below */
  #ExodusHero-{{ section.id }} .exodus-hero__right-col {
    display: flex;
    flex-direction: column;
    gap: 20px;
    min-height: 0;
    overflow: hidden;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__image-panel {
    position: relative;
    border-radius: 10px;
    overflow: hidden;
    flex: 1;
    min-height: 0;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__image-panel img,
  #ExodusHero-{{ section.id }} .exodus-hero__image-panel svg {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__image-overlay {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.2);
  }
  /* Stats card */
  #ExodusHero-{{ section.id }} .exodus-hero__stats-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 40px;
    gap: 80px;
    background: #FFFFFF;
    border: 1px solid #F5F5F5;
    border-radius: 10px;
    flex-shrink: 0;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__stat {
    display: flex;
    flex-direction: column;
    gap: 14px;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__stat-value {
    font-family: 'DM Sans', sans-serif;
    font-weight: 300;
    font-size: 90px;
    line-height: 100%;
    letter-spacing: -0.02em;
    color: #2B2B2B;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__stat-label {
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    font-size: 18px;
    line-height: 150%;
    color: #636363;
  }
  /* Trust logos row */
  #ExodusHero-{{ section.id }} .exodus-hero__trust {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 60px;
    padding: 20px 60px;
    opacity: 0.5;
    max-width: 940px;
  }
  #ExodusHero-{{ section.id }} .exodus-hero__trust img {
    height: 50px;
    width: auto;
    object-fit: contain;
  }

  /* Tablet */
  @media screen and (max-width: 989px) {
    #ExodusHero-{{ section.id }} .exodus-hero__grid {
      grid-template-columns: 1fr;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__text-panel {
      padding: 60px 40px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__heading {
      font-size: 56px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__subtitle {
      font-size: 24px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__stats-card {
      gap: 40px;
      padding: 30px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__stat-value {
      font-size: 48px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__trust {
      flex-wrap: wrap;
      gap: 30px;
      padding: 20px;
    }
  }
  /* Mobile */
  @media screen and (max-width: 749px) {
    #ExodusHero-{{ section.id }} {
      padding: 0 10px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__text-panel {
      padding: 40px 20px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__heading {
      font-size: 36px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__subtitle {
      font-size: 18px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__actions {
      flex-direction: column;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__image-panel {
      min-height: 300px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__stats-card {
      flex-direction: column;
      gap: 24px;
      padding: 24px;
      align-items: flex-start;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__stat-value {
      font-size: 36px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__stat-label {
      font-size: 14px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__trust {
      gap: 20px;
      padding: 16px;
    }
    #ExodusHero-{{ section.id }} .exodus-hero__trust img {
      height: 30px;
    }
  }
{%- endstyle -%}

<section id="ExodusHero-{{ section.id }}">
  <div class="exodus-hero__grid">
    {%- comment -%} Left text panel {%- endcomment -%}
    <div class="exodus-hero__text-panel">
      <div class="exodus-hero__content">
        {%- if section.settings.heading != blank -%}
          <h1 class="exodus-hero__heading">{{ section.settings.heading }}</h1>
        {%- endif -%}

        {%- if section.settings.subtitle != blank -%}
          <p class="exodus-hero__subtitle">{{ section.settings.subtitle }}</p>
        {%- endif -%}

        <div class="exodus-hero__actions">
          {%- if section.settings.button_label_1 != blank -%}
            <a
              href="{{ section.settings.button_link_1 }}"
              class="exodus-hero__btn exodus-hero__btn--primary"
            >
              {{ section.settings.button_label_1 }}
            </a>
          {%- endif -%}
          {%- if section.settings.button_label_2 != blank -%}
            <a
              href="{{ section.settings.button_link_2 }}"
              class="exodus-hero__btn exodus-hero__btn--secondary"
            >
              {{ section.settings.button_label_2 }}
            </a>
          {%- endif -%}
        </div>
      </div>
    </div>

    {%- comment -%} Right column: image on top, stats card below {%- endcomment -%}
    <div class="exodus-hero__right-col">
      <div class="exodus-hero__image-panel">
        {%- if section.settings.image != blank -%}
          {{
            section.settings.image
            | image_url: width: 1920
            | image_tag:
              loading: 'eager',
              sizes: '(min-width: 990px) 50vw, 100vw',
              widths: '375, 750, 930, 1500, 1920'
          }}
          <div class="exodus-hero__image-overlay"></div>
        {%- else -%}
          {{ 'lifestyle-2' | placeholder_svg_tag: 'placeholder-svg' }}
        {%- endif -%}
      </div>

      {%- if section.settings.show_stats -%}
        <div class="exodus-hero__stats-card">
          {%- for block in section.blocks -%}
            {%- if block.type == 'stat' -%}
              <div class="exodus-hero__stat" {{ block.shopify_attributes }}>
                <div class="exodus-hero__stat-value">{{ block.settings.value }}</div>
                <div class="exodus-hero__stat-label">{{ block.settings.label }}</div>
              </div>
            {%- endif -%}
          {%- endfor -%}
        </div>
      {%- endif -%}
    </div>
  </div>

  {%- comment -%} Trust logos row {%- endcomment -%}
  {%- assign has_logos = false -%}
  {%- for block in section.blocks -%}
    {%- if block.type == 'trust_logo' and block.settings.logo != blank -%}
      {%- assign has_logos = true -%}
      {%- break -%}
    {%- endif -%}
  {%- endfor -%}

  {%- if has_logos -%}
    <div class="exodus-hero__trust">
      {%- for block in section.blocks -%}
        {%- if block.type == 'trust_logo' and block.settings.logo != blank -%}
          <div {{ block.shopify_attributes }}>
            {{ block.settings.logo | image_url: height: 50 | image_tag: loading: 'lazy' }}
          </div>
        {%- endif -%}
      {%- endfor -%}
    </div>
  {%- endif -%}
</section>

{% schema %}
{
  "name": "Exodus Hero",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Right panel image",
      "info": "Recommended: 930x636px or larger. Pharmacy shelf or lifestyle image."
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Your Trusted Partner In Reproductive Success"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 36,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 50
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Premium equine & canine breeding supplies with expert support and fast nationwide shipping"
    },
    {
      "type": "text",
      "id": "button_label_1",
      "label": "Primary button label",
      "default": "Shop now"
    },
    {
      "type": "url",
      "id": "button_link_1",
      "label": "Primary button link"
    },
    {
      "type": "text",
      "id": "button_label_2",
      "label": "Secondary button label",
      "default": "Explore"
    },
    {
      "type": "url",
      "id": "button_link_2",
      "label": "Secondary button link"
    },
    {
      "type": "checkbox",
      "id": "show_stats",
      "label": "Show stats",
      "default": true
    },
    {
      "type": "range",
      "id": "min_height",
      "min": 500,
      "max": 1000,
      "step": 50,
      "unit": "px",
      "label": "Minimum height",
      "default": 850
    }
  ],
  "blocks": [
    {
      "type": "stat",
      "name": "Stat",
      "settings": [
        {
          "type": "text",
          "id": "value",
          "label": "Value",
          "default": "1.3M+"
        },
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "Prescriptions filled"
        }
      ]
    },
    {
      "type": "trust_logo",
      "name": "Trust Logo",
      "settings": [
        {
          "type": "image_picker",
          "id": "logo",
          "label": "Logo image",
          "info": "Upload trust badge or certification logo. Recommended height: 50px."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Exodus Hero",
      "blocks": [
        {
          "type": "stat",
          "settings": {
            "value": "1.3M+",
            "label": "Prescriptions filled"
          }
        },
        {
          "type": "stat",
          "settings": {
            "value": "2.5M+",
            "label": "Customers served"
          }
        },
        {
          "type": "stat",
          "settings": {
            "value": "98%",
            "label": "Client satisfaction"
          }
        }
      ]
    }
  ]
}
{% endschema %}
